version: 2

executors:
  my-executor:
    docker:
      - image: circleci/python:3.8.0

jobs:
  build:
    executor: my-executor
    working_directory: ~/projects
    steps:
      - run:
          command: |
            sudo pip install pipenv
            pipenv install django
            pipenv run django-admin startproject config .
            pipenv run python3 manage.py startapp myapp
            pipenv run python3 manage.py test
